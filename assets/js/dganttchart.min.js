"use strict";(()=>{var r=[];r[1]="Jan";r[2]="Feb";r[3]="Mar";r[4]="Apr";r[5]="May";r[6]="Jun";r[7]="Jul";r[8]="Aug";r[9]="Sep";r[10]="Oct";r[11]="Nov";r[12]="Dec";var l=class{constructor(){this.chartDivHTML="";this.highestDate=new Date;this.lowestDate=new Date;this.highestDateTime=0;this.lowestDateTime=0;this.monthDifferences=0;this.monthSize=50}Chart(e,t,i,n){let a=document.getElementById(e);this.computeGanttLength(t),this.monthDifferences=this.monthDiff(this.lowestDate,this.highestDate)+1,this.renderGantt(t,n),a.innerHTML=this.chartDivHTML}renderGantt(e,t){let i="",a=this.lowestDate.getMonth()+1;for(var o=1;o<=this.monthDifferences+6;o++)i+='\n                <div class="monthHeading">\n                    <div class="vert">\n                        <b> '.concat(r[a]," </b>\n                    </div>\n                </div>\n            "),a++,a==13&&(a=1);let s='\n        <div class="gantt-chart">\n            <div class="gantt-chart-container">\n               <div>\n                    <div class="gantt-chart-leftpane">\n                        '.concat(this.renderActivityList(e,t),'\n                    </div>\n               </div>\n               <div>\n                    <div class="gantt-chart-header">\n                        ').concat(i,'\n                    </div>\n                    <div class="gantt-progress-bar">\n                        ').concat(this.renderProgressBar(e,t),"\n                    </div>\n                </div>\n            </div>\n        </div>\n        ");this.chartDivHTML+=s}renderProgressBar(e,t){let i="",n=0;return e.forEach((a,o)=>{if(typeof a!==void 0){if(typeof t<"u"){let d=f=>f.index==n;(t==null?void 0:t.findIndex(d))!==-1&&(i+=' <div class="progress-bar"> &nbsp; </div>')}let s=new Date(a.startDate).getFullYear()-this.lowestDate.getFullYear()||0,h=this.monthDiff(new Date(a.startDate),new Date(a.endDate))+2;i+='\n                    <ul class="progress-bar">    \n                             <li style="width: '.concat(this.monthSize*h,"px; margin-left: ").concat(s*this.monthSize*12+new Date(a.startDate).getMonth()*this.monthSize,'px;">\n                             <div class="period"><b> ').concat(h,' </b> Months</div>\n                             </li>\n                             <li>\n                                <div class="period-info">\n                                ').concat(a.startDate," - ").concat(a.endDate,"\n                                </div>\n                             </li>\n                    </ul>\n                \n                "),n++}}),i}renderActivityList(e,t){let i="";i+='\n        <div class="activity-name" style="background: #2d2d2d; color: #fafafa; text-align: center;">\n            <div class="vert">\n                <b>Activity Name</b>\n            </div>\n        </div>\n        ';let n=0;return e.forEach((a,o)=>{if(typeof t<"u"){let s=d=>d.index==n,h=t==null?void 0:t.findIndex(s);h!==-1&&(i+='\n                    <div class="activity-name">\n                        <div class="separator" style="width: '.concat((this.monthDifferences+6)*this.monthSize+180,'px;">\n                            <div class="vert vert-left">\n                                ').concat(t[h].separatorName,"\n                            </div>\n                        </div>\n                    </div>"))}typeof a.itemName!==void 0&&(i+='\n                    <div class="activity-name">\n                        <div class="vert vert-left ">\n                            '.concat(a.itemName,"\n                        </div>\n                    </div>\n                ")),n++}),i}computeGanttLength(e){e.forEach((t,i)=>{if(typeof t.endDate!==void 0){let n=new Date(t.endDate);this.getHighestDate(n)}if(typeof t.startDate!==void 0){let n=new Date(t.startDate);this.getLowestDate(n)}})}getHighestDate(e){let t=e.getTime();t>this.highestDateTime&&(this.highestDateTime=t,this.highestDate=e)}getLowestDate(e){let t=e.getTime();this.lowestDateTime==0?(this.lowestDateTime=t,this.lowestDate=e):t<this.lowestDateTime&&(this.lowestDateTime=t,this.lowestDate=e)}monthDiff(e,t){var i;return i=(t.getFullYear()-e.getFullYear())*12,i-=e.getMonth()+1,i+=t.getMonth(),i<=0?0:i}},D=new l;var m=class{constructor(e,t,i){D.Chart(e,t,window,i)}};window.DGanttChart=m;})();
//# sourceMappingURL=dganttchart.min.js.map
